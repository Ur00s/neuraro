<div class="container">

    <div class="row d-flex justify-content-center">
  <!-- <div class="d-flex row justify-content-center mt-1 mb-3 w-auto"> -->

      <div class="col-md-6 mt-4 mb-4 p-4">
        <form [formGroup]="updateForm" (ngSubmit)="Changes()" class="d-flex row justify-content-center mt-1 mb-3 w-auto shadow rounded p-4">
            <input type="hidden" formControlName="id" [(ngModel)]="user.id">
        <div class="col-md-12 mt-2 mb-4">

          <span class="d-flex justify-content-center" id="profilelr">
            <span *ngIf="this.user.imageUrl=='false'" id="inicp">{{avatar}}</span>
            <img *ngIf="this.user.imageUrl!='false'" id="" height="215" width="211.38" style="border-radius:50%;" src="{{this.user.imageUrl}}" />
          </span>
          <div class="d-flex justify-content-center mt-2">
            <button class="btn btn-secondary"  type="button" data-bs-toggle="modal" data-bs-target="#uploadFileModal">{{'profile-page.p4' | translate}}</button>
          </div>




        </div>
        <label for="firstNameChange" class="col-form-label pb-0">{{'register.p2' | translate}}</label>
        <input type="text" class="form-control mb-2" formControlName="firstName" [(ngModel)]="user.firstName"
          ngForm id="firstNameChange">



        <label for="lastNameChange" class="col-form-label pb-0">{{'register.p4' | translate}}</label>
        <input type="text" class="form-control mb-2" formControlName="lastName" [(ngModel)]="user.lastName"
           id="lastNameChange">


        <label for="UsernameChange" class="col-form-label pb-0">{{'register.p8' | translate}}</label>
        <input [readonly]="true" type="text" class="form-control mb-2" formControlName="Username" [(ngModel)]="user.username"
           id="usernameChange">


        <label for="emailChange" class="col-form-label pb-0">{{'register.p6' | translate}}</label>
        <input [readonly]="true" type="email" class="form-control mb-2" formControlName="Email" [(ngModel)]="user.email" id="emailChange">
        <div class="row mt-1 mx-0 px-0">
          <div class="col-12 mx-0 px-0">
            <p class="mb-0 errorMSG">{{errorEmail}}</p>
          </div>
        </div>

        <div class="d-flex justify-content-center mt-3">
          <button style="min-width: 157.2px" type="button" [ngClass]="btnClass" (click)="PassChng()" *ngIf="!PassChngBool">{{'script1.p5' | translate}}</button>
          <button style="min-width: 157.2px" type="button" [ngClass]="btnClass" (click)="PassChng()" *ngIf="PassChngBool">{{'script1.p6' | translate}}</button>
        </div>
        <div class="mt-2 p-0" *ngIf="PassChngBool">
          <!-- <label for="passwordChange" class="col-form-label">New Password</label> -->
          <input type="password" class="form-control mb-4" formControlName="Password" id="passwordChange"
            placeholder="{{'profile-page.p1' | translate}}">

          <!-- <label for="CpasswordChange" class="col-form-label">Confirm New Password</label> -->
          <input type="password" class="form-control mt-2" formControlName="cpass" id="cpasswordChange"
            placeholder="{{'profile-page.p3' | translate}}">
          <div class="row mt-1">
            <div class="col-12">
              <p class="mb-0 errorMSG">{{passerror}}</p>
            </div>
            <!-- <div class="col-4">
                                    <button type="button" class="btn btn-danger mt-3" (click)="PassChng()">Cancel</button>
                                </div> -->
          </div>
        </div>
        <div class="d-flex justify-content-center mt-3">
          <button type="submit" class="buttonSubmit btn btn-primary">{{'profile-page.p2' | translate}}</button>
          <!-- <button type="button" class="btn btn-danger ml-1" (click)="cancelPage()">Cancel</button> -->
        </div>
    </form>
      </div>


</div>




</div>


<div class="modal fade" id="uploadFileModal" tabindex="-1" aria-labelledby="uploadFileModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content modalContainer">
      <form style="background-color: transparent;" [formGroup]="myForm" (ngSubmit)="submit()" >
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{'playground.p13' | translate}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">

          <div class="input-group">

            <input class="form-control" data-max-size="2048" style="border: 1px solid white;" formControlName="file" id="file" type="file"
              class="form-control form-control" (change)="onFileChange($event)">
          </div>


      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button type="submit" class="btn btn-primary" data-bs-dismiss="modal"  [disabled]="this.myForm.value.file===''">{{'playground.p14' | translate}}</button>
      </div>
     </form>
    </div>

  </div>
</div>





